@page
@model dynamic
@{
    Layout = "_Layout";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<div class="container mt-5">
    <h2 class="text-center mb-4"><i class="bi bi-credit-card-2-front me-2"></i>Payment Demo</h2>

    <div class="card shadow-lg p-4 mx-auto" style="max-width:500px;">
        <h5 class="mb-3">Order: <strong>Delicious Burger</strong></h5>
        <p>Quantity: <strong>2</strong></p>
        <p>Total Amount: <strong>$25</strong></p>
        <hr />
        <h5 class="mb-3">Choose Payment Method:</h5>

        <div class="d-flex flex-column gap-3">
            <button class="btn btn-primary payment-btn" data-method="Visa">
                <i class="bi bi-credit-card me-2"></i>Pay with Visa
            </button>

            <button class="btn btn-success payment-btn" data-method="bKash">
                <i class="bi bi-phone me-2"></i>Pay with bKash
            </button>

            <button class="btn btn-warning text-dark payment-btn" data-method="Nagad">
                <i class="bi bi-wallet2 me-2"></i>Pay with Nagad
            </button>
        </div>

        <div id="paymentStatus" class="mt-4 text-center d-none">
            <div class="spinner-border text-primary me-2" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <span id="statusText"></span>
        </div>

        <div id="successMessage" class="mt-4 alert alert-success d-none text-center">
            <i class="bi bi-check-circle me-2"></i>Payment Successful! Thank you.
        </div>
    </div>
</div>

<style>
    .payment-btn {
        font-weight: 500;
        transition: transform 0.2s;
    }

        .payment-btn:hover {
            transform: scale(1.05);
        }
</style>

<script>
    const buttons = document.querySelectorAll(".payment-btn");
    const paymentStatus = document.getElementById("paymentStatus");
    const statusText = document.getElementById("statusText");
    const successMessage = document.getElementById("successMessage");

    buttons.forEach(btn => {
        btn.addEventListener("click", () => {
            const method = btn.dataset.method;

            // Show processing
            paymentStatus.classList.remove("d-none");
            statusText.textContent = `Processing payment via ${method}...`;

            // Hide buttons during payment
            buttons.forEach(b => b.disabled = true);

            // Simulate payment delay
            setTimeout(() => {
                paymentStatus.classList.add("d-none");
                successMessage.classList.remove("d-none");
            }, 2500);
        });
    });
</script>
